<?xml version="1.0" encoding="utf-8"?>
<language>
	<pattern regex="\b(void|struct|(int|float|bool)([1|2|3|4](x[1|2|3|4])?)?)\b" style="keyword.hlsl"/>	
	<pattern regex="\b(return|if|while|continue|break|else|for)\b" style="keyword.hlsl"/>
	<pattern regex="\b(technique|pass|compile|asm|true|false|string)\b" style="keyword.hlsl"/>
	<pattern regex="\b(shared|const|texture|sampler|sampler_state)\b" style="keyword.hlsl"/>
	
	<pattern regex="\b(abs|acos|all|any|asfloat|asin|asint|asuint|atan)\b" style="func.hlsl"/>
	<pattern regex="\b(atan2|ceil|clamp|clip|cos|cosh|cross|dd[xy]|degrees)\b" style="func.hlsl"/>
	<pattern regex="\b(determinant|distance|dot|exp|exp2|faceforward|floor)\b" style="func.hlsl"/>
	<pattern regex="\b(fmod|frac|frexp|fwidth|isfinite|isinf|isnan|ldexp)\b" style="func.hlsl"/>
	<pattern regex="\b(length|lerp|lit|log|log10|log2|max|min|modf|mul)\b" style="func.hlsl"/>
	<pattern regex="\b(noise|normalize|pow|radians|reflect|refract|round)\b" style="func.hlsl"/>	
	<pattern regex="\b(rsqrt|saturate|sign|sin|sincos|sinh|smoothstep|sqrt|step)\b" style="func.hlsl"/>
	<pattern regex="\b(tan|tanh|tex(1|2|3|CUBE)D(bias|grad|lod|proj)?|transpose)\b" style="func.hlsl"/>

	<pattern regex="\b([pvg]s_\d_\d)\b" style="keyword.profile.hlsl"/>
	
	<pattern name="line_comment" regex="//.*$" style="comment.hlsl"/>
	<contextPattern name="block_comment" style="comment.hlsl">
		<begin><pattern regex="/\*" style="comment.hlsl"/></begin>
		<end><pattern regex="\*/" style="comment.hlsl"/></end>
	</contextPattern>
	
	<capturePattern regex="(#include)\s+(&lt;[^&gt;]*&gt;)" group0="string.hlsl"
		group1="keyword.hlsl" 
		group2="string.hlsl"/>
		
	<contextPattern style="string.hlsl">
		<begin>
			<pattern regex="&quot;" style="string.hlsl"/>
		</begin>
		<end>
			<pattern regex="(?&lt;!\\)(\\\\)*&quot;" style="string.hlsl"/>
		</end>
	</contextPattern>
	
	<contextPattern style="keyword.semantic.hlsl">
		<begin>
			<pattern regex=":"/>
		</begin>
		<end>
			<pattern regex="[;,{]|$"/>
		</end>
		
		<ref target="line_comment"/>
		<ref target="block_comment"/>
	</contextPattern>
</language>
