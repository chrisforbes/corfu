<?xml version="1.0" encoding="utf-8"?>
<language>
	<!-- selector -->
	<contextPattern name="selector">
		<begin>
			<contextPattern>
				<begin>
					<pattern regex="\t?(?!/)(?=\S)[\w\d: \.,\[\]#\*]+" style="markup.element.css"/>
				</begin>
				<end>
					<pattern regex="\{" style=""/>
				</end>
			</contextPattern>
		</begin>
		<ref target="comment"/>
		<contextPattern name="property" style="markup.value.css">
			<begin>
				<capturePattern regex="([-\w]+)\s*:" 
					group0="text" 
					group1="markup.attribute.css"/>
			</begin>
			<ref target="comment"/>
			<end>
				<pattern regex=";|;?(?=\})"/>
			</end>
		</contextPattern>
		<end>
			<pattern regex="\}" style=""/>
		</end>
	</contextPattern>
	
	<!-- import block -->
	<contextPattern>
		<begin>
			<pattern regex="^@import" style="keyword.at-block.css"/>
		</begin>
		<end>
			<pattern regex="$"/>
		</end>
	</contextPattern>
	
	<!-- at block -->
	<contextPattern>
		<begin>
			<contextPattern>
				<begin>
					<pattern regex="^@[\w ,:]+" style="keyword.at-block.css"/>
				</begin>
				<end>
					<pattern regex="\{" style=""/>
				</end>
			</contextPattern>
		</begin>
		<ref target="comment"/>
		<ref target="property"/>
		<ref target="selector"/>
		<end>
			<pattern regex="\}" style=""/>
		</end>
	</contextPattern>

	<!-- comment -->	
	<contextPattern style="comment.css" name="comment">
		<begin>
			<pattern regex="/\*" style="comment.css"/>
		</begin>
		<end>
			<pattern regex="\*/" style="comment.css"/>
		</end>
	</contextPattern>	
	
</language>
